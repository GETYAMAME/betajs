<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>BetaJS List View</title>
		<script src="../../jquery-1.9.1.min.js"></script>
		<script src="../../../dist/beta.js"></script>
		<link rel="stylesheet" href="../../../dist/beta-ui.css" type="text/css" />
		<script>
			$(document).ready(function () {
				var input = new BetaJS.Views.InputView({
					placeholder: "Enter here"
				});
				var button = new BetaJS.Views.ButtonView({
					label: "Click Me"
				});
				var button_remove = new BetaJS.Views.ButtonView({
					label: "Remove First Element"
				});
				var button_reverse = new BetaJS.Views.ButtonView({
					label: "Reverse"
				});
				var button_reload = new BetaJS.Views.ButtonView({
					label: "Reload"
				});
				var list = new BetaJS.Views.SubViewListView({
					sub_view: BetaJS.Views.ButtonView,
					//property_map: {"label": "text"},
					sub_view_options: function (item) {
						return { label: item.binding("text") };
					},
					compare: function (x, y) {
						return x.get("text").localeCompare(y.get("text"));
					},
					objects: [{"text": "A Example Z","alert":"A"},
					          {"text": "B Example Y","alert":"B"},
					          {"text": "C Example X","alert":"C"},
					          {"text": "D Example W","alert":"D"},
					          {"text": "E Example V","alert":"E"}]
				});
				list.on("item:click", function (view, item) {
					alert(item.get("alert"));
				});
				var main = new BetaJS.Views.ListContainerView({
					el: "body"
				});
				main.addChildren([input, button, list, button_remove, button_reverse, button_reload]);
				button.on("click", function () {
					list.add({"text": input.get("value"), "alert": "None"});
					input.set("value", "");
				});
				button_remove.on("click", function () {
					list.collection().remove(list.collection().getByIndex(0));
				});
				button_reverse.on("click", function () {
					list.collection().iterate(function (item) {
						item.set("text", item.get("text").split("").reverse().join(""));
					});
				});
				button_reload.on("click", function () {
					list.invalidate();
				});
				main.activate();
			});
		</script>
	</head>
	<body>
	</body>
</html>